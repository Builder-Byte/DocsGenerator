{"imports": ["json", "os", "pathlib.Path", "typing.Dict", "dependency_generator.DependencyGenerator", "openrouter_client.OpenRouterClient"], "functions": [{"name": "build_import_graph", "args": ["manifest"], "returns": "Dict[str, list]", "docstring": null}, {"name": "generate_module_docs", "args": ["manifest", "out_dir", "client"], "returns": null, "docstring": null}, {"name": "generate_project_readme", "args": ["summaries", "out_dir", "client"], "returns": null, "docstring": null}, {"name": "generate_docs", "args": ["manifest_path", "out_dir"], "returns": null, "docstring": null}], "classes": [], "docstrings": {"module": null, "functions": {"build_import_graph": null, "generate_module_docs": null, "generate_project_readme": null, "generate_docs": null}, "classes": {}}, "type_hints": {"build_import_graph": {"args": {"manifest": "Dict[str, Dict]"}, "returns": "Dict[str, list]"}, "generate_module_docs": {"args": {"manifest": "Dict[str, Dict]", "out_dir": "Path", "client": "OpenRouterClient"}, "returns": null}, "generate_project_readme": {"args": {"summaries": "Dict[str, str]", "out_dir": "Path", "client": "OpenRouterClient"}, "returns": null}, "generate_docs": {"args": {"manifest_path": "str", "out_dir": "str"}, "returns": null}}, "constants": [], "file_name": "docs_generator.py", "summary": "**Summary of the provided Python script:**\n\nThe script generates documentation for a project based on a given manifest file. Here's a breakdown of its functionality:\n\n1. **Import Statements:**\n   - `json`, `os`, `pathlib`, `typing`\n   - `DependencyGenerator` and `OpenRouterClient` (assumed to be defined elsewhere)\n\n2. **Functions:**\n\n   - **`build_import_graph(manifest: Dict[str, Dict]) -> Dict[str, list]`:**\n     - Constructs an import graph for the project by extracting imports from each file using `DependencyGenerator`.\n\n   - **`generate_module_docs(manifest: Dict[str, Dict], out_dir: Path, client: OpenRouterClient)`:**\n     - Generates module-level documentation for each file in the project.\n     - Summarizes the content of each file using an LLM (with a heuristic fallback) and extracts AST metadata using `DependencyGenerator`.\n     - Writes the generated documentation to Markdown files in the specified output directory.\n\n   - **`generate_project_readme(summaries: Dict[str, str], out_dir: Path, client: OpenRouterClient)`:**\n     - Generates a project-level README by combining file summaries and using an LLM to create a concise project description.\n\n   - **`generate_docs(manifest_path: str = 'output/manifest.json', out_dir: str = 'output/docs')`:**\n     - The main function that loads the manifest, initializes an `OpenRouterClient`, and calls the above functions to generate module docs, a project README, and an import graph JSON file.\n\n3. **Main Script Execution:**\n   - The script is run as a standalone script (`if __name__ == '__main__':`), triggering the `generate_docs()` function with default manifest and output directory paths.\n\nIn essence, this script automates the generation of project documentation, including module-level docs, a project README, and an import graph, based on a given manifest file and an OpenRouterClient for summarization tasks."}
